<div class="yangVisualizer card">
    <div class="topLine col-md-12">
      <div class="col-md-3">
        <div class="clear"><h2>{{ 'YANGVISUALIZER_MODEL' | translate }}</h2></div>
        <div class="clear">
          <select ng-model="currentTopologyNode" ng-change="updateTopologyData(null, true)" ng-options="node.label for node in filteredNodes | orderBy:'label'">
            <option value="">-</option>
          </select>
        </div>
      </div>


      <div class="col-md-3 col-md-offset-1">
        <div class="clear"><h2>{{ 'YANGVISUALIZER_SET_LVL' | translate }} :</h2></div>
        <div class="clear slider">
          <input ng-model="sliderValue" type="text" id="mySlider1" slider ng-change="updateTopologyData(null)" options="sliderSettings" />
        </div>
      </div>


      <div class="" ng-controller="layoutCtrl" ng-init="showLayoutSubmenu = false;">
        <div class="col-md-1 layoutControls col-md-offset-1">
          <button class="intSubmenu" ng-click="showLayoutSubmenu = true">
            <i class="icon-save"></i>
          </button>
          <div class="submenu" ng-show="showLayoutSubmenu" ng-mouseleave="showLayoutSubmenu=false">
            <ul>
              <li ng-show="currentTopologyNode" ><a ng-click="saveLayout();showLayoutSubmenu=false;">{{ 'YANGVISUALIZER_SAVE_MODEL' | translate }}</a></li>
              <li ng-show="modelLayout" ><a ng-click="loadLayout();showLayoutSubmenu=false;">{{ 'YANGVISUALIZER_LOAD_MODEL' | translate }}</a></li>
              <li ng-show="currentTopologyNode"><a ng-click="resetLayout();showLayoutSubmenu=false;">{{ 'YANGVISUALIZER_RESET_MODEL' | translate }}</a></li>
            </ul>
          </div>
        </div>
        <!-- <div class="col-md-4 col-md-offset-2">
          <button ng-show="currentTopologyNode" class="btn btn-orange btn-slim" ng-click="saveLayout()">{{ 'YANGVISUALIZER_SAVE_MODEL' | translate }}</button>
          <button ng-show="modelLayout" class="btn btn-orange btn-slim" ng-click="loadLayout()">{{ 'YANGVISUALIZER_LOAD_MODEL' | translate }}</button>
          <button ng-show="currentTopologyNode" class="btn btn-orange btn-slim" ng-click="resetLayout()">{{ 'YANGVISUALIZER_RESET_MODEL' | translate }}</button>
        </div> -->
      </div>
      <div class="clearfix"></div>


    </div>
    <div class="yangVisCont">

      <div class="sigma col-md-12">
        <div class="viewNav">
          <ul class="navWrapper">
            <li>{{ 'YANGVISUALIZER_LABEL_VIEW' | translate }} : </li>

            <li><span class="active" ng-click="setColorScheme($event,'default')">{{ 'YANGVISUALIZER_SHOW_DEFAULT' | translate }}</span></li>
            <li><span  ng-click="setColorScheme($event,'type')">{{ 'YANGVISUALIZER_SHOW_TYPES' | translate }}</span></li>
            <li><span  ng-click="setColorScheme($event,'module')">{{ 'YANGVISUALIZER_SHOW_MODULES' | translate }}</span></li>
            <li><span  ng-click="setColorScheme($event,'namespace')">{{ 'YANGVISUALIZER_SHOW_NAMESPACES' | translate }}</span></li>
          </ul>
        </div>
        <div class="viewNav margin-legend">
          <div class="clear"></div>
          <div class="legend card" ng-show="legend.view" ng-init="showLegendData = true">
            <ul ng-init="showText = true">
              <li>
                <span>{{ 'YANGVISUALIZER_LABEL_LEGEND' | translate }} </span>
                <input class="showChckbx" type="checkbox" ng-model="showLegendData" tooltip="{{ 'YANGVISUALIZER_SHOW_LEGEND_DATA' | translate }}">
              </li>
              <li>
                <hr ng-show="showLegendData" />
                <button ng-show="isSelectedSpecificType" class="btn btn-slim btn-graph" ng-click="resetSize()" tooltip="{{ 'YANGVISUALIZER_BTN_TT_REMOVE_HIGHLIGHTING_TYPE' | translate }}">
                  {{ 'YANGVISUALIZER_REMOVE_HIGHLIGHT' | translate}}
                </button>
              </li>

              <li ng-repeat="(key, value) in legend.data" ng-show="showLegendData">
                <div class="itemWrapper left cursor-pointer" ng-click="clickLegend(value, key)" tooltip="{{ 'YANGVISUALIZER_BTN_TT_HIGHLIGHT_TYPE' | translate }}">
                  <div class="color left" style="background: {{value}};"></div>
                  <div class="left text" ng-hide="!showText">{{key}}</div>
                  <div class="clear"></div>
                </div>
                <div class="clear"></div>
              </li>
            </ul>
          </div>
        </div>
        <sigma-topology drag-nodes="true" topology-data="topologyData" trigger-resize-sigma="triggerResizeSigma" panel="panel" topology-custfunc="topologyCustfunc" settings-sigma="settingsSigma"></sigma-toppology>
      </div>
      <!-- RIGHT PANEL -->
      <div class="rightPanel panel-{{ selectedNode ? panel.show : 'hide' }} col-md-6">
        <div class="topButtons">
            
            <!-- <button class="btn add-row btn-orange btn-slim ng-scope" ng-click="expandAllNodes()">
              {{ expandedNodes ? 'YANGVISUALIZER_HIDE_NODES' : 'YANGVISUALIZER_SHOW_NODES' | translate }}
            </button> -->
            <button class="btn btn-slim btn-graph" ng-click="sigma.resetZoom()">
              <i class="icon-resize-full"></i>
            </button>
        </div>

          <button class="btn btn-show add-row btn-slim left btn-show-custom" ng-click='triggerExpanded(panel, triggerResize)' ng-show="selectedNode">
              <i class="icon-caret-right" ng-show="panel.show === 'show'"></i>
              <i class="icon-caret-left" ng-show="panel.show === 'prev'"></i>
          </button>
        
          <h2>{{ 'YANGVISUALIZER_SEL_NODE_DETAIL' | translate }}</h2>

          <div class="card">
            <table class="selectedNodePreview">
              <tbody>
                <!-- <tr>
                  <th>{{ 'YANGVISUALIZER_TD_ID' | translate }}</th>
                  <td>{{ selectedNode.id }}</td>
                </tr> -->
                <tr>
                  <th>{{ 'YANGVISUALIZER_TD_NAME' | translate }}</th>
                  <td>{{ selectedNode.label | shorten : panel.show==='prev' ? 25 : 100 }}</td>
                </tr>
                <tr>
                  <th>{{ 'YANGVISUALIZER_TD_TYPE' | translate }}</th>
                  <td>{{ selectedNode.type | shorten : panel.show==='prev' ? 25 : 100 }}</td>
                </tr>
                <tr>
                  <th>{{ 'YANGVISUALIZER_TD_MODULE' | translate }}</th>
                  <td>{{ selectedNode.module | shorten : panel.show==='prev' ? 25 : 100 }}</td>
                </tr>
                <tr>
                  <th>{{ 'YANGVISUALIZER_TD_NAMESPACE' | translate }}</th>
                  <td>{{ selectedNode.namespace | shorten : panel.show==='prev' ? 25 : 100 }}</td>
                </tr>
                <tr>
                  <th>{{ 'YANGVISUALIZER_TD_REVISION' | translate }}</th>
                  <td>{{ selectedNode.moduleRevision | shorten : panel.show==='prev' ? 25 : 100 }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="tabsPanel">
            <div class="tabsNav">
              <ul>
                <li class="{{ shownTab=='pathToRoot' ? 'active' : '' }}">
                  <a href="" ng-click="showPreviewTab('pathToRoot')">{{ 'YANGVISUALIZER_LABEL_PAR_NODE' | translate }}</a>
                </li>
                <li class="{{ shownTab=='childrenNodes' ? 'active' : '' }}">
                 <a href="" ng-click="showPreviewTab('childrenNodes')">{{ 'YANGVISUALIZER_LABEL_CHILD_NODE' | translate }}</a>
                </li>

              </ul>
            </div>

            <div class="tabsContent">
              <div class="tabContent" ng-show="shownTab==='pathToRoot'">
                <table ng-show="parentNodes.list.length">
                <tr ng-repeat="node in parentNodes.list track by $index">
                  <td class="bullet">
                    <div class="color left nodeTypeIcon" style="background-color: {{ selectedProperty ? legend.data[node[selectedProperty]] : '#444444' }};" ng-click="zoomToNode(node.graphId)" tooltip="{{ 'YANGVISUALIZER_ZOOM_TO_NODE' | translate }}"></div>
                  </td>
                  <td class="nodeDesc">
                    <strong ng-click="zoomToNode(node.graphId)" tooltip="{{ 'YANGVISUALIZER_TD_NAME' | translate }}">{{ node.label }}</strong><br />
                    <span tooltip="{{ 'YANGVISUALIZER_TD_TYPE' | translate }}">{{ node.type }}</span><br />
                    <span tooltip="{{ 'YANGVISUALIZER_TD_MODULE' | translate }}">{{ node.module }}</span>
                  </td>
                </tr>
                </table>
                <span class="info" ng-hide="parentNodes.list.length">{{ 'YANGVISUALIZER_NO_ROOT_PATH' | translate }}</span>
              </div>
              <div class="tabContent" ng-show="shownTab==='childrenNodes'">
                <table ng-show="childrenNodes.list.length">
                <tr ng-repeat="node in childrenNodes.list track by $index">
                  <td class="bullet">
                    <div class="color left nodeTypeIcon" style="background-color: {{ selectedProperty ? legend.data[node[selectedProperty]] : '#444444'}};" ng-click="zoomToNode(node.graphId)" tooltip="{{ 'YANGVISUALIZER_ZOOM_TO_NODE' | translate }}"></div>
                  </td>
                  <td>
                    <strong ng-click="zoomToNode(node.graphId)" tooltip="{{ 'YANGVISUALIZER_TD_NAME' | translate }}">{{ node.label }}</strong><br />
                    <span tooltip="{{ 'YANGVISUALIZER_TD_TYPE' | translate }}">{{ node.type }}</span><br />
                    <span tooltip="{{ 'YANGVISUALIZER_TD_MODULE' | translate }}">{{ node.module }}</span>
                  </td>
                </tr>
                </table>
                <span class="info" ng-hide="childrenNodes.list.length > 0">{{ 'YANGVISUALIZER_NO_CHILDREN' | translate }}</span>
              </div>
              <button ng-show="clickedNodesHistory.length > 1" ng-click="backToNode()" class="btn btn-slim">{{ 'YANGVISUALIZER_BTN_BACK' | translate }}</button>
            </div>
          </div>

      </div>
    </div>

    <div class="clear"></div>
</div>