<div ng-controller="actionsCtrl" ng-init="init()">
    <h2 class="text-center">Actions</h2> 

<div ng-include src="view_path+'parts/crud.tpl.html'"></div>

     <section class="formWrapper clearfix" ng-show="actionsView">
        <form name="actionsForm" novalidate="novalidate">
            <i class="icon-remove align-right" ng-click="close()"></i>
            <label class="block"><span>Add actions</span></label>

            <div class="rowWrapper">
                <label class="block basicLabel"><span>Name</span>
                    <i class="icon-exclamation-sign red" tooltip="Required field" ng-show="actionsForm.name.$error.required"></i>
                </label>
                <input class="form-control" type="text" name="name" ng-required="true" ng-model="newActionObj.name" ng-disabled="edit" />
            </div>

            <div class="rowWrapper">
                <label class="block basicLabel"><span>Definition</span></label>
                <select class="form-control" ng-model="newActionObj['action-definition-id']" ng-options="d.id as getDisplayLabel(d, actionDefinitions.labels) for d in actionDefinitions.options">
                    <option>--</option>
                </select>
            </div>

            <div class="rowWrapper">
                <div ng-repeat="param in defs">
                    <div class="row-param" ng-controller="paramCtrl" ng-init="init(param, newActionObj['parameter-value'])">
                        <div ng-show="param.type !== 'range'">
                            <label><span>{{ parameter.name + ' (' + parameter.type + ')' }}:</span></label>
                            <input class="form-control" type="text" ng-model="value"></input>
                        </div>
                        <div ng-show="param.type === 'range'">
                            <label class="param-label"><span>{{ parameter.name + ' (' + parameter.type + ')' }}:</span></label>

                            <input class="form-control narrow-input-left" type="text" ng-model="value.min"></input>
                            <input class="form-control narrow-input-right" type="text" ng-model="value.max"></input>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </section>

    <button class="btn btn-primary col-md-12" ng-click="save()" ng-show="actionsView && selectedTenant.id">Save</button>
    <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('renderers')">Back</button>
</div>