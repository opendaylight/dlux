<section class="gbpWrapper clearfix">

    <!-- TOPOLOGY -->
    <section class="sigmaWrapper col-md-9">
        
        


        <section class="sigmaModalWrapper" ng-show="viewTopo.box" ng-controller="topoDataCtrl">

            <div class="legend" ng-show="showLegend">
              <ul>
                <li><span>Legend:</span></li>
                <li ng-repeat="(key, value) in legend" class="clearfix">
                  <div class="itemWrapper left">
                    <div class="color left" style="background: {{value}};"></div>
                    <div class="left text">{{key}}</div>
                  </div>
                </li>
              </ul>
            </div>

            <button class="btn btn-primary" ng-show="viewTopo.button" ng-click="show()">Show topology data</button>

            <div class="tableWrapper" ng-show="showTable">
                <i class="icon-remove" ng-click="close()"></i>

                <div class="dataWrapper">
                    <div class="rowWrapper" ng-repeat="edge in topologyData.links">
                        <section class="header">
                            <label>End Point Groups:</label>
                            <span class="block">{{ getConsProvLabel(edge) }}</span>
                        </section>

                        <section ng-repeat="subject in edge.data">
                            <section ng-repeat="rule in subject['ui-rule']">
                                <label class="block">Subject:{{subject.name}} - Rule:{{rule.name}}</label>
                                <section ng-repeat="classifier in rule['classifier-ref']">
                                    <span class="block">Classifier:</span>
                                    <ul>
                                        <li ng-repeat="(key, value) in classifier">{{key}}: {{value}}</li>
                                    </ul>
                                </section>
                            </section>
                        </section>
                    </div>
                </div>
                
            </div>

        </section>

        <section>
            <sigma-topology drag-nodes="true" topology-data="topologyData" settings-sigma="settingsSigma" settings-atlas="settingsAtlas" topology-custfunc="topologyCustfunc"></sigma-toppology>
        </section>

        <div class="topoNav">
            <label class="block"><span>Topology type:</span></label>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary" ng-click="loadTopology('CONFIG', { tenantId: selectedTenant.id })">Config</button>
              <button type="button" class="btn btn-primary" ng-click="loadTopology('OPERATIONAL', { tenantId: selectedTenant.id })">Operational</button>
              <button type="button" class="btn btn-primary" ng-click="loadTopology('L2L3', { tenantId: selectedTenant.id, storage: 'config' })">L2/L3</button>
            </div>
        </div>
        
    </section>

   <!-- RIGHT PANEL -->
   <aside class="col-md-3"> 
        <section class="inWrapper">

            <div class="panelWrapper clearfix">
                <!-- Tenants list -->
                <div class="rowWrapper clearfix">
                    <label class="block"><span>Tenants list</span></label>
                    <div class="selectWrapper col-md-12">
                        <select class="form-control" ng-model="selectedTenant" ng-change="setTenant()" ng-options="d.name for d in tenantList">
                            <option value="">Select option</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.basic">
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('policy')" >Policy</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('renderers')"  >Renderers</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('endpoints')"  >Endpoints</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('docs')"  >Docs</button>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.policy">
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('tenants')" >Tenants</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('l2l3')"  >L2/L3</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('epg')"  >EPG</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('contracts')" >Contracts</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('docs')"  >Docs</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('basic')"  >Back</button>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.renderers">
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('classifiers')"  >Classifiers</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('actions')"  >Actions</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('basic')" >Back</button>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.endpoints">
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('registerEndpoint')"  >Endpoint</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('registerL3PrefixEndpoint')"  >L3 prefix endpoint</button>
                <button class="btn btn-primary col-md-12" ng-click="toggleExpanded('basic')" >Back</button>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.tenants">
                <div ng-include src="view_path+'tenants.tpl.html'"></div>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.l2l3">
                <div ng-include src="view_path+'l2l3.tpl.html'"></div>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.epg" ng-controller="epgCtrl">
                <div ng-include src="view_path+'epg.tpl.html'"></div>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.contracts">
                <div ng-include src="view_path+'contracts.tpl.html'"></div>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.docs">
                <div ng-include src="view_path+'docs.tpl.html'"></div>
            </div>

            <div ng-controller="renderersCtrl">
                <div class="panelWrapper clearfix" ng-show="view.classifiers" ng-controller="classifiersCtrl">
                    <div ng-include src="view_path+'classifiers.tpl.html'"></div>
                </div>

                <div class="panelWrapper clearfix" ng-show="view.actions" ng-controller="actionsCtrl">
                    <div ng-include src="view_path+'actions.tpl.html'"></div>
                </div>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.registerEndpoint">
                <div ng-include src="view_path+'endpoint.tpl.html'"></div>
            </div>

            <div class="panelWrapper clearfix" ng-show="view.registerL3PrefixEndpoint">
                <div ng-include src="view_path+'l3-endpoint.tpl.html'"></div>
            </div>



        </section>
   </aside>

</section>

