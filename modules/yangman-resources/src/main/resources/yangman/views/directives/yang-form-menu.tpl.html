<md-menu ng-if="isActionMenu() || isNodeInfo()" class="menu-container">
    <md-button class="md-icon-button" ng-click="$mdOpenMenu($event); hideInfoBox();">
        <md-icon md-font-set="material-icons">reorder</md-icon>
    </md-button>

    <md-menu-content>
        <!-- node info -->
        <section class="text-left icon-wrapper" ng-show="isNodeInfo()">
            <md-icon md-font-set="material-icons" class="pointer" ng-show="node.isKey()">
                vpn_key
                <md-tooltip md-direction="top">
                    {{'key of '+node.parent.label+' list'}}
                </md-tooltip>
            </md-icon>

            <md-icon class="svg-icon pointer"
                     md-svg-src="src/app/yangman/assets/images/icon-augment.svg"
                     ng-show="node.augmentationId">
                <md-tooltip md-direction="top">
                    {{ 'YANGUI_IS_AUGMENT' | translate }} {{ node.augmentationId }}
                </md-tooltip>
            </md-icon>
        </section>
        <md-menu-divider ng-if="isActionMenu() && isNodeInfo()"></md-menu-divider>

        <!-- description menu item -->
        <md-menu-item ng-if="node.getChildren('description', null, null, 'label').length > 0">
            <md-button ng-click="switchSection('description')" md-prevent-menu-close>
                <md-icon md-font-set="material-icons">info</md-icon>
                <span md-menu-align-target>{{'YANGMAN_EXPLAIN' | translate}}</span>
            </md-button>
        </md-menu-item>

        <!-- add list item -->
        <md-menu-item ng-if="yangList">
            <md-button ng-click="addListItem()">
                <md-icon md-font-set="material-icons">library_add</md-icon>
                <span md-menu-align-target>{{'YANGMAN_ADD_LIST_ITEM' | translate}}</span>
            </md-button>
        </md-menu-item>

        <!-- show items list -->
        <md-menu-item ng-if="yangList && node.actElemStructure">
            <md-button ng-click="switchSection('items'); setItemList();" md-prevent-menu-close>
                <md-icon md-font-set="material-icons">list</md-icon>
                <span md-menu-align-target>{{'YANGMAN_SHOW_LIST_ITEM' | translate}}</span>
            </md-button>
        </md-menu-item>

        <!-- augmentations menu item -->
        <md-menu-item ng-if="node.augmentionGroups.length">
            <md-button ng-click="switchSection('augmentations')" md-prevent-menu-close>
                <md-icon md-font-set="material-icons">brightness_auto</md-icon>
                <span md-menu-align-target>{{'YANGMAN_AUGMENTATIONS' | translate}}</span>
            </md-button>
        </md-menu-item>

        <!-- info box -->
        <div class="md-whiteframe-z2 info-box" ng-show="infoBox" ng-switch="infoBoxSection">
            <div ng-switch-when="augmentations">
                <md-list flex>
                    <md-list-item ng-repeat="augmentation in node.augmentionGroups">
                        <md-switch ng-model="augmentations.getAugmentation(node, augmentation).expanded"
                                   aria-label="{{augmentation}}"
                                   md-prevent-menu-close>
                            {{augmentation}}
                        </md-switch>
                    </md-list-item>
                </md-list>
            </div>

            <!-- Description box -->
            <div ng-switch-when="description" class="info-box__padding">
                {{node.getChildren('description', null, null, 'label')[0]}}
            </div>

            <!-- yang list items -->
            <div ng-switch-when="items">
                <md-list>
                    <md-list-item ng-repeat="_ in node.listData" class="no-wrap">
                        <!-- icon -->
                        <md-icon md-font-set="material-icons">
                            {{ [yangList.currentDisplayIndex, yangList.currentDisplayIndex + 1, yangList.currentDisplayIndex - 1].indexOf($index) !== -1 ? 'remove_red_eye' : ''}}
                        </md-icon>

                        <!-- title -->
                        <p ng-class="{'active' : node.actElemIndex === $index}"
                           class="pointer"
                           ng-click="node.changeActElementData($index)" md-prevent-menu-close>
                            {{yangForm.getNodeName(node.localeLabel, node.label)}}&nbsp;{{node.createListName($index) || '[' + $index + ']'}}
                        </p>

                        <!-- duplicated key -->
                        <md-icon md-font-set="material-icons" ng-show="node.doubleKeyIndexes.indexOf($index) > -1">
                            <md-tooltip md-direction="top">{{ 'LIST_INDEX_DUPLICATE' | translate }}</md-tooltip>
                            error_outline
                        </md-icon>

                        <!-- remove button -->
                        <md-icon md-font-set="material-icons"
                                 class="pointer"
                                 ng-click="yangList.removeListElem($index)" md-prevent-menu-close>
                            <md-tooltip md-direction="top">{{ 'LIST_DELETE_ITEM' | translate }}</md-tooltip>
                            remove_circle_outline
                        </md-icon>

                        <md-ink-bar ng-if="node.actElemIndex === $index" class="custom"></md-ink-bar>
                    </md-list-item>
                </md-list>
            </div>
        </div>
    </md-menu-content>
</md-menu>