<md-list ng-controller="ModulesListCtrl as modulesList" ng-cloak class="yangmanModule__modules-list">
    <!-- Loading box -->
    <div class="yangmanModule__left-panel__loading-container" ng-show="modulesList.showLoadingBox">
        <md-progress-linear md-mode="query"></md-progress-linear>
        <div class="bottom-block">
            <span>Loading application modules...</span>
        </div>
    </div>

    <!-- Mount point title -->
    <section ng-show="modulesList.moduleListTitle.length">
        <h4>{{ modulesList.moduleListTitle }}</h4>
        <!-- Line -->
        <md-divider></md-divider>
    </section>

    <!-- Modules list -->
    <md-list-item ng-repeat="module in modulesList.treeApis"
                  class="yangmanModule__modules-list__item"
                  ng-class="{'expanded' : module.expanded}"
                  ng-hide="modulesList.showLoadingBox"
                  ng-click="modulesList.setModule(module, $event)">
        <!-- Item content -->
        <div layout="column" flex>
            <!-- Module title -->
            <div layout="row" layout-align="center center"  class="pointer title">
                <md-icon md-font-set="material-icons" class="top-icon top-element">
                    {{module.expanded ? 'keyboard_arrow_down':'keyboard_arrow_right'}}
                </md-icon>
                <p flex class="top-element"> {{module.label}} </p>
            </div>

            <!-- Datastore && rpc -->
            <md-list flex class="yangmanModule__datastore-list" ng-show="module.expanded">
                <md-list-item ng-repeat="item in module.children">
                    <div flex
                         layout="row"
                         layout-align="center center"
                         class="pointer"
                         ng-click="modulesList.setDataStore(item, module)">
                        <md-icon md-font-set="material-icons">keyboard_arrow_right</md-icon>
                        <p flex> {{item.label}} </p>
                    </div>
                </md-list-item>
            </md-list>
        </div>
        <!-- Line -->
        <md-divider></md-divider>
    </md-list-item>
</md-list>
